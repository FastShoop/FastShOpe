<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FastShop ‚Ä¢ Najszybsze do≈Çadowania & boosty</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@500;600;700;900&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg: #07070f;
      --surface: #0e0e1c;
      --surface2: #131325;
      --text: #f0f0ff;
      --text2: #b0b0e8;
      --accent: #00eaff;
      --accent-glow: rgba(0,234,255,0.35);
      --yellow: #ffeb3b;
      --yellow-glow: rgba(255,235,59,0.4);
      --green: #00ffaa;
      --red: #ff4d88;
      --radius: 18px;
      --radius-sm: 12px;
      --shadow: 0 14px 40px rgba(0,0,0,0.68);
      --glow-soft: 0 0 28px rgba(0,234,255,0.18);
      --glow-strong: 0 0 40px rgba(255,235,59,0.32);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      background-image: 
        radial-gradient(circle at 15% 20%, rgba(0,234,255,0.06) 0%, transparent 25%),
        radial-gradient(circle at 85% 75%, rgba(255,235,59,0.05) 0%, transparent 30%);
      background-attachment: fixed;
    }

    header {
      background: linear-gradient(to bottom, #0f001a, #0a0012);
      padding: 2.4rem 1rem 1.6rem;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 200;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 8px 32px rgba(0,0,0,0.6);
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: clamp(3rem, 9vw, 5.2rem);
      background: linear-gradient(90deg, var(--yellow), var(--accent), var(--yellow));
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.4rem;
      margin: 0 0 0.4rem;
      animation: titleShine 6s linear infinite;
      text-shadow: 0 0 60px rgba(255,235,59,0.5), 0 0 100px rgba(0,234,255,0.3);
    }

    @keyframes titleShine {
      0%,100% { background-position: 0% center; }
      50%     { background-position: 200% center; }
    }

    h1 i {
      font-size: 1.15em;
      animation: bolt 1.8s infinite;
    }

    @keyframes bolt {
      0%,100% { transform: scale(1) rotate(0deg); opacity: 0.9; }
      50%     { transform: scale(1.18) rotate(6deg); opacity: 1; }
    }

    nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.1rem 1.6rem;
      margin-top: 1.4rem;
    }

    nav a {
      color: var(--text2);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.12rem;
      padding: 0.7rem 1.5rem;
      border-radius: 999px;
      transition: all 0.28s ease;
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.06);
    }

    nav a:hover,
    nav a.active {
      background: rgba(0,234,255,0.14);
      color: white;
      border-color: var(--accent);
      box-shadow: 0 0 24px var(--accent-glow);
      transform: translateY(-1px);
    }

    main {
      max-width: 1340px;
      margin: 3rem auto;
      padding: 0 1.4rem;
    }

    .category {
      display: none;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
    }

    .category.active {
      display: grid;
      animation: appear 0.7s ease-out;
    }

    @keyframes appear {
      from { opacity:0; transform:translateY(24px); }
      to   { opacity:1; transform:translateY(0); }
    }

    .product {
      background: linear-gradient(145deg, var(--surface), var(--surface2));
      border-radius: var(--radius);
      padding: 2rem 1.6rem;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.05);
      transition: all 0.4s cubic-bezier(0.19,1,0.22,1);
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    .product::after {
      content: '';
      position: absolute;
      inset: -50%;
      background: conic-gradient(from 0deg at 50% 50%, transparent, var(--accent), transparent 60deg);
      opacity: 0;
      transition: opacity 0.6s;
      pointer-events: none;
      animation: spin 12s linear infinite;
    }

    .product:hover::after { opacity: 0.12; }

    .product:hover {
      transform: translateY(-14px);
      box-shadow: var(--shadow), 0 0 60px rgba(0,234,255,0.25);
    }

    .product h3 {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 1.6rem;
      color: var(--accent);
      margin-bottom: 0.9rem;
      text-shadow: 0 0 16px var(--accent-glow);
    }

    .product .desc {
      color: var(--text2);
      font-size: 0.96rem;
      margin-bottom: 1.3rem;
      min-height: 3.2em;
    }

    .price {
      font-size: 2.4rem;
      font-weight: 800;
      color: var(--yellow);
      margin: 1rem 0;
      text-shadow: 0 0 32px var(--yellow-glow);
      letter-spacing: -1px;
    }

    .badge {
      font-size: 1.02rem;
      margin: 0.6rem 0;
      padding: 0.35rem 1rem;
      border-radius: 999px;
      display: inline-block;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
    }

    .in-stock  { color: var(--green); border-color: rgba(0,255,170,0.3); }
    .out-stock { color: var(--red);   border-color: rgba(255,77,136,0.3); }
    .yes       { color: var(--green); }
    .no        { color: var(--red);   }

    .add-to-cart {
      background: linear-gradient(90deg, var(--yellow), #ffca28);
      color: #0a0a1a;
      border: none;
      padding: 1rem 2.4rem;
      border-radius: 999px;
      font-weight: 700;
      font-size: 1.05rem;
      cursor: pointer;
      margin-top: 1.4rem;
      transition: all 0.32s;
      box-shadow: 0 8px 28px rgba(255,235,59,0.35);
    }

    .add-to-cart:hover {
      transform: translateY(-4px) scale(1.04);
      box-shadow: 0 16px 44px rgba(255,235,59,0.55);
    }

    .add-to-cart.disabled {
      background: #3a3a4a;
      color: #888;
      box-shadow: none;
      cursor: not-allowed;
      transform: none;
    }

    .cart-icon {
      position: fixed;
      bottom: 40px;
      right: 40px;
      width: 88px;
      height: 88px;
      background: linear-gradient(135deg, var(--yellow), #ffca28);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.4rem;
      color: #0a0a1a;
      cursor: pointer;
      box-shadow: 0 12px 40px rgba(255,235,59,0.5), inset 0 2px 8px rgba(255,255,255,0.3);
      z-index: 9999;
      transition: all 0.35s cubic-bezier(0.18,0.89,0.32,1.28);
    }

    .cart-icon:hover {
      transform: scale(1.18) rotate(12deg);
      box-shadow: 0 20px 60px rgba(255,235,59,0.7);
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--accent);
      color: #000;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 1.15rem;
      font-weight: 800;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 4px solid var(--bg);
      box-shadow: 0 0 16px var(--accent-glow);
    }

    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(5,5,15,0.92);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 1.5rem;
    }

    .modal-content {
      background: var(--surface);
      border: 1px solid rgba(255,255,255,0.07);
      border-radius: var(--radius);
      padding: 2.6rem 2.2rem;
      max-width: 620px;
      width: 100%;
      box-shadow: 0 24px 80px rgba(0,0,0,0.85), 0 0 60px rgba(0,234,255,0.12);
      position: relative;
      animation: modalPop 0.4s cubic-bezier(0.16,1,0.3,1);
    }

    @keyframes modalPop {
      from { opacity:0; transform:scale(0.88) translateY(30px); }
      to   { opacity:1; transform:scale(1) translateY(0); }
    }

    .close {
      position: absolute;
      top: 1.4rem;
      right: 1.8rem;
      font-size: 2.6rem;
      color: var(--text2);
      cursor: pointer;
      transition: all 0.25s;
    }

    .close:hover { color: white; transform: rotate(90deg); }

    input, select {
      width: 100%;
      padding: 1.15rem 1.4rem;
      margin: 0.8rem 0;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(255,255,255,0.09);
      background: rgba(255,255,255,0.03);
      color: white;
      font-size: 1.05rem;
      transition: all 0.25s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(0,234,255,0.22);
    }

    .checkout-btn, .guarantee-btn {
      background: linear-gradient(90deg, var(--yellow), #ffca28);
      color: #0a0a1a;
      border: none;
      padding: 1.3rem;
      border-radius: 999px;
      font-size: 1.22rem;
      font-weight: 700;
      cursor: pointer;
      margin: 1.6rem 0 0.8rem;
      width: 100%;
      transition: all 0.32s;
      box-shadow: 0 10px 36px rgba(255,235,59,0.45);
    }

    .checkout-btn:hover, .guarantee-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 56px rgba(255,235,59,0.65);
    }

    .cancel-btn {
      background: linear-gradient(90deg, var(--red), #d32f6b);
      color: white;
    }

    .guarantee-btn {
      max-width: 460px;
      margin: 2.5rem auto 1.2rem;
      display: block;
    }

    footer {
      text-align: center;
      padding: 4rem 1rem 3rem;
      color: var(--text2);
      border-top: 1px solid rgba(255,255,255,0.04);
      margin-top: 8rem;
    }

    .discord-link {
      color: var(--yellow);
      font-weight: 700;
      text-decoration: none;
    }

    .discord-link:hover { color: var(--accent); }

    .info-box {
      background: rgba(0,234,255,0.08);
      border: 1px solid rgba(0,234,255,0.18);
      border-radius: var(--radius);
      padding: 1.6rem;
      margin: 1.8rem 0;
      font-size: 1.08rem;
      text-align: center;
    }

    .coming-soon {
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: clamp(4.5rem, 12vw, 8rem);
      text-align: center;
      color: var(--red);
      text-shadow: 0 0 80px rgba(255,77,136,0.7);
      margin: 8rem 0;
      animation: pulseRed 3.2s infinite alternate;
    }

    @keyframes pulseRed {
      from { text-shadow: 0 0 40px rgba(255,77,136,0.5); }
      to   { text-shadow: 0 0 120px rgba(255,77,136,1); }
    }

    @media (max-width: 640px) {
      h1 { font-size: 3.4rem; }
      nav a { padding: 0.6rem 1.1rem; font-size: 1rem; }
      .product { padding: 1.6rem 1.2rem; }
      .price { font-size: 2.1rem; }
      .cart-icon { width: 74px; height: 74px; font-size: 2rem; bottom: 24px; right: 24px; }
    }
  </style>
</head>
<body>

<header>
  <h1><i class="fas fa-bolt"></i> FastShop <i class="fas fa-bolt"></i></h1>
  <nav>
    <a href="#" class="tab-link active" data-tab="optymalizacja">Optymalizacja</a>
    <a href="#" class="tab-link" data-tab="valorant">Valorant Points</a>
    <a href="#" class="tab-link" data-tab="robux">Robuxy</a>
    <a href="#" class="tab-link" data-tab="nitro">Nitro</a>
    <a href="#" class="tab-link" data-tab="howto">Jak kupiƒá</a>
  </nav>
</header>

<main>
  <div id="optymalizacja" class="category active"></div>
  <div id="valorant" class="category">
    <div class="info-box">
      VP mo≈ºesz kupiƒá od rƒôki na stronie albo dowolnƒÖ ilo≈õƒá przez ticket na Discordzie.<br><br>
      <strong>Gwarancja zwrotu 24h ‚Äì 100% bezpiecznie</strong>
    </div>
  </div>
  <div id="robux" class="category"></div>
  <div id="nitro" class="category">
    <div class="coming-soon">COMING<br>SOON</div>
  </div>
  <div id="howto" class="category">
    <div style="background:var(--surface); padding:2.8rem; border-radius:var(--radius); border:1px solid rgba(0,234,255,0.12);">
      <h2 style="color:var(--accent); font-family:'Orbitron'; margin-bottom:1.8rem; font-size:2.2rem;">Jak kupiƒá?</h2>
      <ol style="padding-left:1.8rem; font-size:1.1rem; line-height:2;">
        <li>Wybierz produkt(y)</li>
        <li>Kliknij koszyk w prawym dolnym rogu ‚Üí wybierz metodƒô p≈Çatno≈õci i uzupe≈Çnij dane</li>
        <li>Skopiuj ID zam√≥wienia i wy≈õlij na ticket (oznacz @nie_teletubisek)</li>
        <li>Czekaj na realizacjƒô ‚Äì zazwyczaj 1‚Äì24 h</li>
      </ol>
    </div>
  </div>
</main>

<div class="cart-icon" id="cartIcon">
  <i class="fas fa-shopping-cart"></i>
  <span class="cart-count" id="cartCount">0</span>
</div>

<div class="modal" id="cartModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2>Koszyk</h2>
    <div id="cartItems" style="min-height:120px; margin:1.5rem 0;"></div>
    <hr style="border:none; border-top:1px solid rgba(255,255,255,0.08); margin:1.8rem 0;">
    <p style="font-size:1.3rem;">Razem: <strong id="totalPrice" style="color:var(--yellow);">0 z≈Ç</strong></p>
    <input type="text" id="discountCode" placeholder="Kod promocyjny (dzia≈Ça na optymalizacjƒô)" autocomplete="off">
    <p id="discountInfo" style="min-height:1.6rem; margin-top:0.6rem; font-size:1.05rem;"></p>
    <button class="checkout-btn" id="checkoutBtn">Przejd≈∫ do p≈Çatno≈õci</button>
  </div>
</div>

<div class="modal" id="checkoutModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2>P≈Çatno≈õƒá</h2>
    <p style="font-size:1.3rem; margin-bottom:1.4rem;">Do zap≈Çaty: <strong id="finalPrice" style="color:var(--yellow);">0 z≈Ç</strong></p>
    <label>Metoda p≈Çatno≈õci</label>
    <select id="paymentMethod">
      <option value="przelew">Przelew tradycyjny</option>
      <option value="psc">Paysafecard</option>
      <option value="paypal">PayPal</option>
    </select>
    <label>Nick Discord *</label>
    <input type="text" id="discordName" required autocomplete="off">
    <label>Imiƒô i nazwisko *</label>
    <input type="text" id="fullName" required autocomplete="off">
    <label>E-mail kontaktowy *</label>
    <input type="email" id="email" required autocomplete="off">
    <label>Telefon (opcjonalnie)</label>
    <input type="tel" id="phone" autocomplete="off">
    <div style="margin:1.6rem 0; display:flex; align-items:center; gap:1rem; font-size:1.05rem;">
      <input type="checkbox" id="acceptTerms" required style="width:1.3rem; height:1.3rem; accent-color:var(--accent);">
      <label for="acceptTerms">Akceptujƒô regulamin zakup√≥w</label>
    </div>
    <button class="checkout-btn" id="confirmOrder">Potwierd≈∫ zam√≥wienie</button>
  </div>
</div>

<div class="modal" id="orderModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2 style="color:var(--green);">Zam√≥wienie przyjƒôte!</h2>
    <p style="font-size:1.3rem; margin:1.4rem 0;"><strong>ID zam√≥wienia:</strong> <span id="orderId" style="color:var(--yellow); font-family:monospace;"></span></p>
    <p><strong>Szacowany czas realizacji:</strong> <span id="waitTime"></span></p>
    <p style="margin:1.6rem 0;">Skopiuj ID i wy≈õlij na ticket (@nie_teletubisek)</p>
    <a href="https://discord.gg/BKV37cxef5" class="discord-link" target="_blank" style="font-size:1.3rem; display:inline-block; margin:1rem 0;">‚Üí Wejd≈∫ na Discorda</a>
    <button class="cancel-btn checkout-btn" id="cancelOrderBtn" style="margin-top:2rem;">Anuluj to zam√≥wienie</button>
  </div>
</div>

<div class="modal" id="cancelModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2>Anulowanie zam√≥wienia</h2>
    <p>Wpisz ID zam√≥wienia:</p>
    <input type="text" id="cancelId" placeholder="FS-..." autocomplete="off">
    <button class="checkout-btn" id="confirmCancel" style="margin-top:1.6rem;">Potwierd≈∫ anulowanie</button>
  </div>
</div>

<div class="modal" id="cancelSuccessModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2 style="color:var(--red);">Zam√≥wienie anulowane</h2>
    <p>Informacja zosta≈Ça wys≈Çana do obs≈Çugi.</p>
  </div>
</div>

<div class="modal" id="statsOptModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2 style="color:var(--accent);">Optymalizacja ‚Äì wyniki & gwarancja</h2>
    <p style="margin:1.4rem 0;">Dzia≈Ça na ~91% konfiguracji ‚Äì realny wzrost wydajno≈õci gwarantowany.</p>
    <ul style="list-style:none; margin:1.8rem 0; font-size:1.08rem; line-height:2.1;">
      <li>‚úì 200 ‚Üí 400-550 FPS (Valorant/CS2/Fortnite)</li>
      <li>‚úì ≈örednio +130‚Äì190% wiƒôcej klatek</li>
      <li>‚úì Znacznie mniej stutter√≥w i input lagu</li>
      <li>‚úì Ponad 450+ zadowolonych klient√≥w</li>
    </ul>
    <p style="color:var(--accent); font-weight:700; font-size:1.15rem; margin-top:2rem;">
      Gwarancja zwrotu 100% w 24h je≈õli nie bƒôdzie poprawy
    </p>
  </div>
</div>

<div class="modal" id="vpModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2 style="color:var(--accent);">Valorant Points ‚Äì bezpiecze≈Ñstwo</h2>
    <ul style="list-style:none; margin:1.8rem 0; font-size:1.08rem; line-height:2.1;">
      <li>‚úì Legalne ≈∫r√≥d≈Ça ‚Äì zero ryzyka bana</li>
      <li>‚úì Realizacja 1‚Äì24 h</li>
      <li>‚úì Do≈Çadowanie bezpo≈õrednio na konto</li>
    </ul>
    <p style="color:var(--accent); font-weight:700; font-size:1.15rem; margin-top:2rem;">
      Gwarancja zwrotu 24 h ‚Äì replacement lub full refund
    </p>
  </div>
</div>

<div class="modal" id="statsRobuxModal">
  <div class="modal-content">
    <span class="close">√ó</span>
    <h2 style="color:var(--accent);">Robux ‚Äì bezpiecze≈Ñstwo</h2>
    <ul style="list-style:none; margin:1.8rem 0; font-size:1.08rem; line-height:2.1;">
      <li>‚úì Legalne ≈∫r√≥d≈Ça ‚Äì zero ryzyka bana</li>
      <li>‚úì Realizacja 1‚Äì24 h</li>
      <li>‚úì Do≈Çadowanie bezpo≈õrednio na konto</li>
    </ul>
    <p style="color:var(--accent); font-weight:700; font-size:1.15rem; margin-top:2rem;">
      Gwarancja zwrotu 24 h ‚Äì replacement lub full refund
    </p>
  </div>
</div>

<footer>
  Problem? Zam√≥w od rƒôki na Discordzie ‚Üí 
  <a href="https://discord.gg/BKV37cxef5" class="discord-link" target="_blank">@nie_teletubisek</a>
</footer>

<script>
const WEBHOOK_B64="aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQ1NjM1Mzg5MzMzOTYzMTgzNy9GZnJVUUhoTEpYYXo0OVhrcHpybjBLbjdRNEt1ZGo1WXNIZFdZMUN2Q0p5N1Jtb2Y4RHRLVTdmVWxYWHpzcVBBQmo1bg==";
const webhookUrl=atob(WEBHOOK_B64);
let cart=[];
let currentOrderId="";
const discountCodes={"FAST2026":0.12,"BOOST15":0.15};

const products={
  optymalizacja:[
    {n:"Basic Chip",p:0,s:"V",d:"Podstawowa optymalizacja",r:"R"},
    {n:"Speed Chip",p:10,s:"V",d:"≈öredni wzrost wydajno≈õci",r:"R"},
    {n:"Furious Chip",p:25,s:"V",d:"Agresywna optymalizacja",r:"R"},
    {n:"Ultra Chip",p:50,s:"V",d:"Maksymalna wydajno≈õƒá",r:"R"},
    {n:"Streamer Chip",p:100,s:"V",d:"Zero lag√≥w ‚Äì streaming",r:"R"}
  ],
  valorant:[
    {n:"225 VP",p:10.93,s:"V",d:"",r:"L"},
    {n:"475 VP",p:17.92,s:"V",d:"",r:"L"},
    {n:"1000 VP",p:35.85,s:"V",d:"",r:"L"},
    {n:"1520 VP",p:53.77,s:"V",d:"",r:"L"},
    {n:"2575 VP",p:89.62,s:"V",d:"",r:"L"},
    {n:"5350 VP",p:179.23,s:"V",d:"",r:"L"},
    {n:"8705 VP",p:288.77,s:"V",d:"",r:"L"}
  ],
  robux:[
    {n:"800 Robux",p:36.13,s:"V",d:"",r:"L"},
    {n:"2000 Robux",p:88.92,s:"V",d:"",r:"L"},
    {n:"4500 Robux",p:179.34,s:"V",d:"",r:"L"},
    {n:"10000 Robux",p:373.46,s:"V",d:"",r:"L"}
  ]
};

function renderProducts(){
  Object.keys(products).forEach(k=>{
    const c=document.getElementById(k);
    if(!c)return;
    c.innerHTML="";
    products[k].forEach(p=>{
      const d=document.createElement("div");
      d.className="product";
      d.dataset.name=p.n;
      d.dataset.price=p.p;
      const stockClass=p.s==="V"?"in-stock":"out-stock";
      const stockIcon=p.s==="V"?'<i class="fas fa-check"></i>':'<i class="fas fa-times"></i>';
      const disabled=p.s!=="V"?"disabled":"";
      const discClass=p.r==="R"?"yes":"no";
      const discIcon=p.r==="R"?'<i class="fas fa-check"></i>':'<i class="fas fa-times"></i>';
      const discText=p.r==="R"?"Rabat OK":"Rabat √ó";
      d.innerHTML=`
        <h3>${p.n}</h3>
        ${p.d?`<p class="desc">${p.d}</p>`:""}
        <div class="price">${p.p.toFixed(2).replace(".",",")} z≈Ç</div>
        <div class="badge ${stockClass}">${stockIcon} ${p.s==="V"?"Dostƒôpny":"Brak"}</div>
        <div class="badge ${discClass}">${discIcon} ${discText}</div>
        <button class="add-to-cart ${disabled}" ${disabled}>Dodaj do koszyka</button>
      `;
      c.appendChild(d);
    });
  });

  const btns=[
    {id:"optymalizacja",text:"Statystyki i Gwarancja Optymalizacji",modal:"statsOptModal"},
    {id:"valorant",text:"Gwarancja & Bezpiecze≈Ñstwo VP",modal:"vpModal"},
    {id:"robux",text:"Gwarancja & Bezpiecze≈Ñstwo Robux",modal:"statsRobuxModal"}
  ];

  btns.forEach(b=>{
    const cont=document.getElementById(b.id);
    if(!cont)return;
    const btn=document.createElement("button");
    btn.className="guarantee-btn";
    btn.textContent=b.text;
    btn.onclick=()=>document.getElementById(b.modal).style.display="flex";
    cont.appendChild(btn);
  });

  document.querySelectorAll(".add-to-cart:not(.disabled)").forEach(b=>b.addEventListener("click",addToCart));
}

function addToCart(e){
  const el=e.target.closest(".product");
  const name=el.dataset.name;
  const price=parseFloat(el.dataset.price);
  const item=cart.find(i=>i.n===name);
  if(item)item.q++;
  else cart.push({n:name,p:price,q:1});
  updateCartCount();
  renderCart();
}

function updateCartCount(){
  document.getElementById("cartCount").textContent=cart.reduce((a,i)=>a+i.q,0);
}

function getTotal(){
  let discSum=0,otherSum=0;
  cart.forEach(i=>{
    const prod=Object.values(products).flat().find(p=>p.n===i.n);
    if(prod&&prod.r==="R")discSum+=i.p*i.q;
    else otherSum+=i.p*i.q;
  });

  const code=(document.getElementById("discountCode")?.value||"").toUpperCase().trim();
  const info=document.getElementById("discountInfo");

  if(discountCodes[code]&&discSum>0){
    discSum*=(1-discountCodes[code]);
    if(info){
      info.textContent=`Kod ${code} ‚Üí -${discountCodes[code]*100}% na optymalizacjƒô`;
      info.style.color=var(--green);
    }
  }else if(code&&info){
    info.textContent=discSum>0?"Nieprawid≈Çowy kod":"Kod tylko na optymalizacjƒô";
    info.style.color=var(--red);
  }else if(info)info.textContent="";

  return discSum+otherSum;
}

function renderCart(){
  const div=document.getElementById("cartItems");
  const tot=getTotal();

  div.innerHTML=cart.length<1
    ?'<p style="text-align:center;color:var(--text2);padding:2rem 0;">Koszyk pusty</p>'
    :cart.map(i=>`
      <div style="display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,0.03);padding:1rem;border-radius:var(--radius-sm);margin-bottom:1rem;">
        <div style="font-size:1.1rem;">${i.n} √ó${i.q}</div>
        <div style="display:flex;align-items:center;gap:1.4rem;">
          <strong style="font-size:1.2rem;">${(i.p*i.q).toFixed(2).replace(".",",")} z≈Ç</strong>
          <button class="remove-item" data-name="${i.n}" style="background:var(--red);color:white;border:none;padding:0.5rem 1.1rem;border-radius:8px;cursor:pointer;font-weight:600;">Usu≈Ñ</button>
        </div>
      </div>
    `).join("");

  document.getElementById("totalPrice").textContent=tot.toFixed(2).replace(".",",")+" z≈Ç";

  document.querySelectorAll(".remove-item").forEach(b=>b.onclick=e=>{
    const nm=e.target.dataset.name;
    cart=cart.filter(i=>i.n!==nm);
    updateCartCount();
    renderCart();
  });
}

document.getElementById("discountCode")?.addEventListener("input",renderCart);

document.getElementById("cartIcon").onclick=()=>{
  renderCart();
  document.getElementById("cartModal").style.display="flex";
};

document.getElementById("checkoutBtn").onclick=()=>{
  if(cart.length<1)return alert("Koszyk jest pusty");
  document.getElementById("cartModal").style.display="none";
  document.getElementById("checkoutModal").style.display="flex";
  document.getElementById("finalPrice").textContent=getTotal().toFixed(2).replace(".",",")+" z≈Ç";
};

document.getElementById("confirmOrder").onclick=()=>{
  const d=document.getElementById("discordName").value.trim();
  const n=document.getElementById("fullName").value.trim();
  const e=document.getElementById("email").value.trim();
  const t=document.getElementById("acceptTerms").checked;
  if(!d||!n||!e||!t)return alert("Uzupe≈Çnij wymagane pola i zaakceptuj regulamin");

  const id="FS-"+Date.now().toString(36).toUpperCase();
  currentOrderId=id;

  const h=Math.floor(Math.random()*24)+1;
  const wait=h===1?"‚âà1 h":`‚âà${h} h`;

  document.getElementById("orderId").textContent=id;
  document.getElementById("waitTime").textContent=wait;

  const total=getTotal();
  const code=(document.getElementById("discountCode")?.value||"").toUpperCase()||"‚Äî";
  const pay=document.getElementById("paymentMethod").value;
  const phone=document.getElementById("phone").value.trim()||"‚Äî";
  const list=cart.map(i=>`${i.n} √ó${i.q}`).join("\n");

  fetch(webhookUrl,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      embeds:[{
        title:"üõí FastShop ‚Äì NOWE ZAM√ìWIENIE",
        description:`**ID ‚Üí** ${id}\n**Czas ‚Üí** ${wait}`,
        color:0xFFEB3B,
        fields:[
          {name:"Klient",value:`${n}  (@${d})`,inline:true},
          {name:"E-mail",value:e,inline:true},
          {name:"Telefon",value:phone,inline:true},
          {name:"P≈Çatno≈õƒá",value:pay.toUpperCase(),inline:true},
          {name:"Produkty",value:list||"‚Äî",inline:false},
          {name:"Kod",value:code,inline:true},
          {name:"Kwota",value:`${total.toFixed(2)} z≈Ç`,inline:true}
        ],
        timestamp:new Date().toISOString()
      }]
    })
  }).catch(()=>{});  

  document.getElementById("checkoutModal").style.display="none";
  document.getElementById("orderModal").style.display="flex";

  cart=[];
  updateCartCount();
  ["discordName","fullName","email","phone","discountCode"].forEach(id=>document.getElementById(id).value="");
  document.getElementById("paymentMethod").value="przelew";
  document.getElementById("acceptTerms").checked=false;
};

document.getElementById("cancelOrderBtn").onclick=()=>{
  document.getElementById("orderModal").style.display="none";
  document.getElementById("cancelModal").style.display="flex";
};

document.getElementById("confirmCancel").onclick=()=>{
  if(document.getElementById("cancelId").value.trim()!==currentOrderId)return alert("B≈Çƒôdne ID zam√≥wienia");

  fetch(webhookUrl,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      embeds:[{
        title:"‚ùå ANULOWANO ZAM√ìWIENIE",
        description:`ID: ${currentOrderId}\nAnulowane przez klienta`,
        color:0xFF4D88,
        timestamp:new Date().toISOString()
      }]
    })
  }).catch(()=>{});  

  document.getElementById("cancelModal").style.display="none";
  document.getElementById("cancelSuccessModal").style.display="flex";
  currentOrderId="";
};

document.querySelectorAll(".close").forEach(el=>el.onclick=()=>el.closest(".modal").style.display="none");

document.querySelectorAll(".tab-link").forEach(a=>{
  a.onclick=e=>{
    e.preventDefault();
    document.querySelectorAll(".tab-link").forEach(x=>x.classList.remove("active"));
    a.classList.add("active");
    document.querySelectorAll(".category").forEach(s=>s.classList.remove("active"));
    document.getElementById(a.dataset.tab).classList.add("active");
  };
});

renderProducts();
updateCartCount();
</script>
</body>
</html>
